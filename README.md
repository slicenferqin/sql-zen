# SQL-Zen

> Less Tools, More Intelligence

**SQL-Zen** æ˜¯ä¸€ä¸ªæç®€ä¸»ä¹‰çš„ Text-to-SQL Agentï¼Œè®©ä½ ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢æ•°æ®åº“ã€‚

é‡‡ç”¨**åŒå±‚è¯­ä¹‰æ¶æ„**ï¼š**Schema å±‚**æè¿°è¡¨ç»“æ„ï¼Œ**Cube å±‚**å®šä¹‰ä¸šåŠ¡æŒ‡æ ‡ã€‚

## Why SQL-Zen?

ä¼ ç»Ÿ Text-to-SQL æ–¹æ¡ˆçš„é—®é¢˜ï¼š

| é—®é¢˜ | ä¼ ç»Ÿæ–¹æ¡ˆ | SQL-Zen |
|------|----------|---------|
| å·¥å…·æ•°é‡ | 15+ ä¸ªä¸“ç”¨å·¥å…· | **2 ä¸ª** |
| æ¶æ„å¤æ‚åº¦ | å¤æ‚çš„ RAG + å¤šè½®éªŒè¯ | **åŒå±‚è¯­ä¹‰å±‚** |
| è¯­ä¹‰è¡¨è¾¾ | ä¾èµ–æ•°æ®åº“ç»“æ„ | **Cube å±‚å®šä¹‰ä¸šåŠ¡æŒ‡æ ‡** |
| ç»´æŠ¤æˆæœ¬ | æ¯ä¸ªè¾¹ç•Œæƒ…å†µéƒ½è¦æ‰“è¡¥ä¸ | **è®©æ¨¡å‹è‡ªå·±å¤„ç†** |
| æ¨¡å‹ä¾èµ– | æ¯æ¬¡æ›´æ–°éƒ½è¦é‡æ–°è°ƒæ•´ | **ä¿¡ä»»æ¨¡å‹æ¨ç†èƒ½åŠ›** |

**æ ¸å¿ƒç†å¿µ**ï¼šä¸è¦æ›¿æ¨¡å‹æ€è€ƒï¼Œç»™å®ƒå¥½çš„è¯­ä¹‰ä¸Šä¸‹æ–‡ï¼Œè®©å®ƒè‡ªå·±æ¢ç´¢ã€‚

## åŒå±‚è¯­ä¹‰æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cube å±‚ï¼ˆä¸šåŠ¡è¯­ä¹‰ï¼‰           â”‚
â”‚  - ä¸šåŠ¡æŒ‡æ ‡ï¼ˆæ”¶å…¥ã€è½¬åŒ–ç‡ã€CLVï¼‰       â”‚
â”‚  - ç»´åº¦ï¼ˆæ—¶é—´ã€åœ°ç†ã€ç”¨æˆ·ï¼‰             â”‚
â”‚  - è·¨è¡¨è®¡ç®—é€»è¾‘                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ å¼•ç”¨
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Schema å±‚ï¼ˆè¡¨ç»“æ„ï¼‰          â”‚
â”‚  - è¡¨å®šä¹‰ï¼ˆorders, users, productsï¼‰     â”‚
â”‚  - åˆ—å®šä¹‰ï¼ˆç±»å‹ã€çº¦æŸï¼‰                 â”‚
â”‚  - è¡¨é—´å…³ç³»                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ æ˜ å°„
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç‰©ç†æ•°æ®åº“                     â”‚
â”‚  (PostgreSQL, MySQL, SQLite)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿**ï¼š
- **ä¸šåŠ¡è¯­ä¹‰ä¼˜å…ˆ**ï¼šç”¨æˆ·ç”¨"æ”¶å…¥"ã€"è½¬åŒ–ç‡"è€Œé `SUM(amount)` æé—®
- **å¤ç”¨è®¡ç®—é€»è¾‘**ï¼šå¤æ‚çš„ä¸šåŠ¡é€»è¾‘åªå®šä¹‰ä¸€æ¬¡ï¼Œå¤šå¤„å¤ç”¨
- **éšè—å¤æ‚æ€§**ï¼šåº•å±‚æ•°æ®ç»“æ„å˜åŒ–ä¸å½±å“ä¸šåŠ¡è¯­ä¹‰

## Quick Start

```bash
# 1. å®‰è£…
npm install -g sql-zen

# 2. åˆå§‹åŒ–é¡¹ç›®ï¼ˆåˆ›å»º schema ç›®å½•ç»“æ„ï¼‰
sql-zen init

# 3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆåˆ›å»º .env æ–‡ä»¶ï¼‰
cat > .env << EOF
# Anthropic API é…ç½®
ANTHROPIC_API_KEY=sk-ant-your-api-key-here

# æ•°æ®åº“é…ç½®ï¼ˆæ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼‰
DB_TYPE=mysql
DB_HOST=localhost
DB_PORT=3306
DB_NAME=mydb
DB_USER=root
DB_PASSWORD=password
EOF

# 4. ï¼ˆå¯é€‰ï¼‰ç”Ÿæˆæµ‹è¯•æ•°æ®
python scripts/init-test-data.py
# è¿™å°†åˆ›å»º 100 ä¸ªç”¨æˆ·ã€17 ä¸ªå•†å“ã€500 ä¸ªè®¢å•ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„ Schema æ–‡ä»¶

# 5. å¼€å§‹æé—®ï¼ˆä½¿ç”¨ä¸šåŠ¡æœ¯è¯­ï¼‰
sql-zen ask "æœ‰å¤šå°‘ç”¨æˆ·ï¼Ÿ"
sql-zen ask "æœ€è¿‘30å¤©çš„æ€»æ”¶å…¥æ˜¯å¤šå°‘ï¼Ÿ"
sql-zen ask "å“ªä¸ªåŸå¸‚çš„ç”¨æˆ·æ¶ˆè´¹æœ€å¤šï¼Ÿ"
sql-zen ask "åˆ—å‡ºé”€é‡å‰5çš„å•†å“åŠå…¶æ”¶å…¥"

# 6. ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å‹æˆ– API ç«¯ç‚¹
sql-zen ask "å¤æ‚æŸ¥è¯¢" --model claude-3-opus-20240229
sql-zen ask "æŸ¥è¯¢" --base-url https://your-proxy.com
```

è¯¦ç»†é…ç½®è¯´æ˜è¯·æŸ¥çœ‹ [é…ç½®æŒ‡å—](./docs/configuration.md)ã€‚

## How It Works

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "ä¸Šä¸ªæœˆæ”¶å…¥æ˜¯å¤šå°‘ï¼Ÿ"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LLM Agent                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  execute_bash  â”‚    â”‚  execute_sql   â”‚                â”‚
â”‚  â”‚  grep/cat/ls   â”‚    â”‚  è¿è¡Œ SQL      â”‚                â”‚
â”‚  â”‚  æ¢ç´¢ Cube å±‚   â”‚    â”‚               â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                     â”‚
            â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cube æ–‡ä»¶ç³»ç»Ÿ  â”‚    â”‚     æ•°æ®åº“       â”‚
â”‚  (ä¸šåŠ¡è¯­ä¹‰å±‚)    â”‚    â”‚  (PostgreSQL)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Agent çš„å·¥ä½œæµç¨‹**ï¼š

1. æ”¶åˆ°ç”¨æˆ·é—®é¢˜ï¼ˆå¦‚"ä¸Šä¸ªæœˆæ”¶å…¥"ï¼‰
2. åœ¨ **Cube å±‚**æ‰¾åˆ° `revenue` æŒ‡æ ‡å®šä¹‰
3. ç†è§£ `revenue` çš„ SQL è¡¨è¾¾å¼ï¼ˆå¦‚ `SUM(CASE WHEN ...)`ï¼‰
4. åœ¨ **Schema å±‚**æ‰¾åˆ°è¡¨ç»“æ„
5. ç”Ÿæˆ SQL å¹¶ç”¨ `execute_sql` æ‰§è¡Œ
6. è¿”å›ç»“æœå’Œè§£é‡Š

## Schema æ–‡ä»¶ç»“æ„

SQL-Zen çš„æ ¸å¿ƒæ˜¯é«˜è´¨é‡çš„è¯­ä¹‰æ–‡æ¡£ï¼š

```
schema/
â”œâ”€â”€ cubes/               # Cube å±‚ï¼ˆä¸šåŠ¡è¯­ä¹‰ï¼‰
â”‚   â”œâ”€â”€ business-metrics.yaml
â”‚   â”œâ”€â”€ user-analytics.yaml
â”‚   â””â”€â”€ product-analytics.yaml
â”œâ”€â”€ tables/              # Schema å±‚ï¼ˆè¡¨ç»“æ„ï¼‰
â”‚   â”œâ”€â”€ orders.yaml
â”‚   â”œâ”€â”€ users.yaml
â”‚   â””â”€â”€ products.yaml
â”œâ”€â”€ joins/               # å…³è”å…³ç³»
â”‚   â”œâ”€â”€ user-orders.yaml
â”‚   â””â”€â”€ order-products.yaml
â”œâ”€â”€ guides/              # è®¾è®¡æŒ‡å—
â”‚   â”œâ”€â”€ schema-methodology.md
â”‚   â”œâ”€â”€ cube-design.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ examples/            # ç¤ºä¾‹ SQL
â”‚   â”œâ”€â”€ daily-revenue.sql
â”‚   â””â”€â”€ user-clv.sql
â””â”€â”€ README.md
```

### Cube å±‚ç¤ºä¾‹

```yaml
# schema/cubes/business-metrics.yaml
cube: business_analytics
description: "æ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡"

dimensions:
  - name: time
    description: "æ—¶é—´ç»´åº¦"
    column: "DATE(orders.created_at)"
    granularity:
      - month
      - week
      - day

metrics:
  - name: revenue
    description: "æ€»æ”¶å…¥ï¼ŒåŒ…å«å·²æ”¯ä»˜è®¢å•çš„é‡‘é¢"
    sql: "SUM(CASE WHEN orders.status = 'paid' THEN orders.total_amount END)"
    type: sum
    
  - name: conversion_rate
    description: "è½¬åŒ–ç‡ï¼Œä»æ³¨å†Œåˆ°é¦–æ¬¡è´­ä¹°çš„æ¯”ä¾‹"
    sql: |
      COUNT(DISTINCT CASE WHEN o.status = 'paid' THEN o.user_id END)::DECIMAL / 
      COUNT(DISTINCT u.id) * 100
    type: percentage
    
  - name: customer_lifetime_value
    description: "å®¢æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼ˆCLVï¼‰"
    sql: "SUM(orders.total_amount) / COUNT(DISTINCT orders.user_id)"
    type: avg

filters:
  - name: last_30_days
    sql: "orders.created_at >= DATE_SUB(CURRENT_DATE, INTERVAL 30 DAY)"
    description: "æœ€è¿‘30å¤©"
```

### Schema å±‚ç¤ºä¾‹

```yaml
# schema/tables/orders.yaml
table:
  name: orders
  description: "è®¢å•ä¸»è¡¨ï¼Œè®°å½•æ‰€æœ‰ç”¨æˆ·è®¢å•ä¿¡æ¯"
  
columns:
  - name: order_id
    type: BIGINT
    description: "è®¢å•å”¯ä¸€æ ‡è¯†"
    primary_key: true
    
  - name: user_id
    type: BIGINT
    description: "ç”¨æˆ·IDï¼Œå…³è” users è¡¨"
    foreign_key: users.user_id
    
  - name: total_amount
    type: DECIMAL(12,2)
    description: "è®¢å•æ€»é‡‘é¢ï¼ˆå•ä½ï¼šå…ƒï¼‰"
    
  - name: status
    type: VARCHAR(50)
    description: "è®¢å•çŠ¶æ€"
    enum: [pending, paid, shipped, completed, cancelled]
```

## Project Status

**å½“å‰ç‰ˆæœ¬ï¼šv0.2.0**

### âœ… ç”Ÿäº§å°±ç»ªç¨‹åº¦

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ ¸å¿ƒæŸ¥è¯¢åŠŸèƒ½ | âœ… ç”Ÿäº§å°±ç»ª | ç»çœŸå® MySQL æ•°æ®åº“æµ‹è¯•ï¼ŒåŠŸèƒ½å®Œæ•´ |
| CLI å·¥å…· | âœ… ç”Ÿäº§å°±ç»ª | init, ask, validate, cube å‘½ä»¤å‡å¯ç”¨ |
| å¤šæ•°æ®åº“æ”¯æŒ | âœ… ç”Ÿäº§å°±ç»ª | MySQL, PostgreSQL, SQLite å…¨éƒ¨æ”¯æŒ |
| åŒå±‚è¯­ä¹‰æ¶æ„ | âœ… ç”Ÿäº§å°±ç»ª | Schema å±‚å’Œ Cube å±‚å®šä¹‰å®Œå–„ |
| é…ç½®ç®¡ç† | âœ… ç”Ÿäº§å°±ç»ª | æ”¯æŒ .envã€ç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œé€‰é¡¹ |
| å·¥å…·è°ƒç”¨å¾ªç¯ | âœ… ç”Ÿäº§å°±ç»ª | Agent å¯å¤šè½®è°ƒç”¨å·¥å…·å®Œæˆå¤æ‚ä»»åŠ¡ |
| å•å…ƒæµ‹è¯• | âœ… ç”Ÿäº§å°±ç»ª | 247 ä¸ªæµ‹è¯•ï¼Œ96%+ è¦†ç›–ç‡ |

### âš ï¸ å½“å‰é™åˆ¶

- **é›†æˆæµ‹è¯•**ï¼šå•å…ƒæµ‹è¯•å·²å®Œæˆï¼Œä½†ç¼ºä¹ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•
- **æ€§èƒ½ä¼˜åŒ–**ï¼šæœªåšä¸“é—¨ä¼˜åŒ–ï¼Œå¤§å‹æ•°æ®åº“æŸ¥è¯¢å¯èƒ½è¾ƒæ…¢
- **å¹¶å‘æ§åˆ¶**ï¼šæ— å¹¶å‘é™åˆ¶ï¼Œé«˜å¹¶å‘åœºæ™¯å¯èƒ½æœ‰é—®é¢˜
- **ç›‘æ§å’Œæ—¥å¿—**ï¼šåŸºç¡€æ—¥å¿—ï¼Œç¼ºä¹ç”Ÿäº§çº§ç›‘æ§

### ğŸ”„ åç»­è¿­ä»£æ–¹å‘

**v0.3.0 - å¢å¼ºï¼ˆ1-2å‘¨ï¼‰**
- âœ… æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆå·²å®Œæˆï¼š247 ä¸ªæµ‹è¯•ï¼Œ96%+ è¦†ç›–ç‡ï¼‰
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†ç³»ç»Ÿï¼ˆè‡ªå®šä¹‰é”™è¯¯ç±»ã€é”™è¯¯ç ã€æ¢å¤å»ºè®®ï¼‰
- âœ… æŸ¥è¯¢ç»“æœç¼“å­˜ï¼ˆåŸºäº SQLiteï¼Œæ”¯æŒ TTL å’Œ LRU é©±é€ï¼‰
- æ·»åŠ ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•
- ä¼˜åŒ–å¤§å‹æŸ¥è¯¢æ€§èƒ½

**v0.4.0 - Web UIï¼ˆ4-6å‘¨ï¼‰**
- æ„å»ºå®Œæ•´çš„ Web åº”ç”¨
- Schema å¯è§†åŒ–ç¼–è¾‘å™¨
- Cube æ‹–æ‹½å¼ç¼–è¾‘å™¨
- å›¾è¡¨å’Œæ•°æ®å¯è§†åŒ–
- æŸ¥è¯¢å†å²å’Œæ”¶è—

**v0.5.0 - ä¼ä¸šåŠŸèƒ½ï¼ˆ6-8å‘¨ï¼‰**
- ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- å›¢é˜Ÿåä½œ
- æŠ¥å‘Šè®¢é˜…å’Œè‡ªåŠ¨åŒ–
- API å’Œ Webhooks

### ğŸ’¡ ç”Ÿäº§ç¯å¢ƒå»ºè®®

**é€‚ç”¨åœºæ™¯ï¼š**
- âœ… æ•°æ®åˆ†æå’Œæ¢ç´¢
- âœ… ä¸´æ—¶æŸ¥è¯¢å’ŒæŠ¥è¡¨
- âœ… ä¸ªäººæˆ–å°å›¢é˜Ÿä½¿ç”¨
- âœ… æ•°æ®åº“æ–‡æ¡£ç”Ÿæˆ

**ä¸é€‚ç”¨åœºæ™¯ï¼š**
- âŒ é«˜å¹¶å‘ç”Ÿäº§ç¯å¢ƒï¼ˆéœ€è¦é¢å¤–ä¼˜åŒ–ï¼‰
- âŒ å®æ—¶æ•°æ®æŸ¥è¯¢ï¼ˆéœ€è¦ç¼“å­˜æœºåˆ¶ï¼‰
- âŒ å¤æ‚æ•°æ®æƒé™æ§åˆ¶ï¼ˆéœ€è¦æƒé™ç³»ç»Ÿï¼‰
- âŒ è¶…å¤§å‹æ•°æ®åº“ï¼ˆéœ€è¦æ€§èƒ½ä¼˜åŒ–ï¼‰

**ä½¿ç”¨å»ºè®®ï¼š**
1. **å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯**ï¼šä½¿ç”¨æµ‹è¯•æ•°æ®éªŒè¯æŸ¥è¯¢å‡†ç¡®æ€§
2. **æ·»åŠ æŸ¥è¯¢é™åˆ¶**ï¼šåœ¨ Cube å±‚å®šä¹‰ä¸­æ·»åŠ  LIMIT é™åˆ¶
3. **ç›‘æ§æŸ¥è¯¢æ€§èƒ½**ï¼šå…³æ³¨æ…¢æŸ¥è¯¢ï¼Œå¿…è¦æ—¶æ·»åŠ ç´¢å¼•
4. **å®šæœŸå¤‡ä»½ Schema**ï¼šå°† schema/ ç›®å½•çº³å…¥ç‰ˆæœ¬æ§åˆ¶
5. **å®¡æŸ¥ç”Ÿæˆçš„ SQL**ï¼šé‡è¦æŸ¥è¯¢å‰å…ˆæ£€æŸ¥ Agent ç”Ÿæˆçš„ SQL

## Features

### å·²å®ç°

- [x] åŒå±‚è¯­ä¹‰æ¶æ„ï¼ˆSchema å±‚ + Cube å±‚ï¼‰
- [x] CLI å·¥å…· (`sql-zen init`, `sql-zen ask`, `sql-zen validate`, `sql-zen cache`)
- [x] PostgreSQL æ”¯æŒ
- [x] MySQL æ”¯æŒ
- [x] SQLite æ”¯æŒ
- [x] Claude API é›†æˆ
- [x] execute_bash å·¥å…·å®ç°
- [x] execute_sql å·¥å…·å®ç°
- [x] Agent Skills é›†æˆï¼ˆ3 ä¸ªæ ¸å¿ƒ Skillsï¼‰
- [x] å®Œæ•´çš„è®¾è®¡æŒ‡å—æ–‡æ¡£
- [x] é«˜è´¨é‡ Schema ç¤ºä¾‹
- [x] å•å…ƒæµ‹è¯•ï¼ˆ247 ä¸ªæµ‹è¯•ï¼Œ96%+ è¦†ç›–ç‡ï¼‰
- [x] ç»Ÿä¸€é”™è¯¯å¤„ç†ç³»ç»Ÿ
- [x] æŸ¥è¯¢ç»“æœç¼“å­˜

### è®¡åˆ’ä¸­

- [ ] ç«¯åˆ°ç«¯é›†æˆæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆå¤§å‹æ•°æ®åº“æ”¯æŒï¼‰
- [ ] Web UIï¼ˆå¯è§†åŒ–ç•Œé¢ï¼‰
- [ ] å¤šæ¨¡å‹æ”¯æŒ (GPT-4, Ollama)
- [ ] äº¤äº’å¼ REPL æ¨¡å¼

æŸ¥çœ‹å®Œæ•´ [Roadmap](./docs/roadmap.md)

## Usage Examples

### åŸºç¡€æŸ¥è¯¢

```bash
# ç»Ÿè®¡æŸ¥è¯¢
sql-zen ask "æœ‰å¤šå°‘ç”¨æˆ·ï¼Ÿ"
sql-zen ask "æœ‰å¤šå°‘è®¢å•ï¼Ÿ"
sql-zen ask "æ€»é”€å”®é¢æ˜¯å¤šå°‘ï¼Ÿ"

# çŠ¶æ€ç»Ÿè®¡
sql-zen ask "è®¢å•å®Œæˆç‡æ˜¯å¤šå°‘ï¼Ÿ"
sql-zen ask "æœ‰å¤šå°‘æ´»è·ƒç”¨æˆ·ï¼Ÿ"
```

### ä¸šåŠ¡æŒ‡æ ‡æŸ¥è¯¢ï¼ˆä½¿ç”¨ Cube å±‚ï¼‰

```bash
# æ”¶å…¥ç›¸å…³
sql-zen ask "æœ€è¿‘30å¤©çš„æ€»æ”¶å…¥æ˜¯å¤šå°‘ï¼Ÿ"
sql-zen ask "ä¸Šä¸ªæœˆçš„å¹³å‡è®¢å•é‡‘é¢æ˜¯å¤šå°‘ï¼Ÿ"
sql-zen ask "æœ¬å‘¨æ”¶å…¥ç›¸æ¯”ä¸Šå‘¨å¢é•¿äº†å¤šå°‘ï¼Ÿ"

# ç”¨æˆ·ç›¸å…³
sql-zen ask "æœ‰å¤šå°‘ä»˜è´¹ç”¨æˆ·ï¼Ÿ"
sql-zen ask "å®¢æˆ·ç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼ˆCLVï¼‰æ˜¯å¤šå°‘ï¼Ÿ"
sql-zen ask "ç”¨æˆ·è½¬åŒ–ç‡æ˜¯å¤šå°‘ï¼Ÿ"
sql-zen ask "æ–°ç”¨æˆ·ï¼ˆè¿‘30å¤©æ³¨å†Œï¼‰çš„è½¬åŒ–ç‡å¦‚ä½•ï¼Ÿ"

# å•†å“ç›¸å…³
sql-zen ask "å“ªä¸ªç±»åˆ«çš„å•†å“åˆ©æ¶¦ç‡æœ€é«˜ï¼Ÿ"
sql-zen ask "é”€é‡æœ€å¥½çš„ 5 ä¸ªå•†å“æ˜¯ä»€ä¹ˆï¼Ÿ"
sql-zen ask "å•†å“åº“å­˜å‘¨è½¬ç‡å¦‚ä½•ï¼Ÿ"
```

### ç»´åº¦åˆ†æ

```bash
# åŸå¸‚ç»´åº¦
sql-zen ask "å“ªä¸ªåŸå¸‚çš„ç”¨æˆ·æ¶ˆè´¹æœ€å¤šï¼Ÿ"
sql-zen ask "æŒ‰åŸå¸‚ç»Ÿè®¡è®¢å•æ•°é‡å’Œå¹³å‡é‡‘é¢"

# æ—¶é—´ç»´åº¦
sql-zen ask "æŒ‰æœˆç»Ÿè®¡æœ€è¿‘3ä¸ªæœˆçš„æ”¶å…¥è¶‹åŠ¿"
sql-zen ask "æ¯å‘¨çš„é”€å”®æƒ…å†µå¦‚ä½•ï¼Ÿ"
sql-zen ask "å¯¹æ¯”å»å¹´åŒæœŸçš„æ”¶å…¥"

# ç±»åˆ«ç»´åº¦
sql-zen ask "å„ç±»åˆ«å•†å“çš„é”€é‡å’Œæ”¶å…¥å¯¹æ¯”"
sql-zen ask "å“ªä¸ªå•†å“ç±»åˆ«åˆ©æ¶¦ç‡æœ€é«˜ï¼Ÿ"
```

### å¤æ‚æŸ¥è¯¢

```bash
# Top N æŸ¥è¯¢
sql-zen ask "æ¶ˆè´¹é‡‘é¢æœ€é«˜çš„ 10 ä¸ªç”¨æˆ·æ˜¯è°ï¼Ÿ"
sql-zen ask "é”€é‡å‰ 5 çš„å•†å“åŠå…¶æ”¶å…¥"

# å¤šè¡¨å…³è”
sql-zen ask "å“ªäº›ç”¨æˆ·è´­ä¹°äº† iPhone 15 Proï¼Ÿ"
sql-zen ask "ç”µå­äº§å“ç±»åˆ«çš„å¹³å‡è®¢å•é‡‘é¢æ˜¯å¤šå°‘ï¼Ÿ"

# å¤åˆåˆ†æ
sql-zen ask "æŒ‰åŸå¸‚ç»Ÿè®¡ç”¨æˆ·çš„å¹³å‡æ¶ˆè´¹å’Œè½¬åŒ–ç‡"
sql-zen ask "é«˜ä»·å€¼ç”¨æˆ·ï¼ˆCLV å‰ 10%ï¼‰çš„è´­ä¹°è¡Œä¸ºæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"
```

### ä½¿ç”¨ Cube é€‰é¡¹

```bash
# ä¼˜å…ˆä½¿ç”¨ Cube å±‚å®šä¹‰çš„æŒ‡æ ‡
sql-zen ask --cube "æœ€è¿‘30å¤©çš„æ€»æ”¶å…¥æ˜¯å¤šå°‘ï¼Ÿ"
```

## Documentation

### æ ¸å¿ƒæ–‡æ¡£

- [é…ç½®æŒ‡å—](./docs/configuration.md) - ç¯å¢ƒå˜é‡ã€å‘½ä»¤è¡Œé€‰é¡¹ã€é…ç½®ä¼˜å…ˆçº§
- [ç¼“å­˜ç³»ç»Ÿ](./docs/caching.md) - æŸ¥è¯¢ç»“æœç¼“å­˜é…ç½®å’Œä½¿ç”¨
- [è®¾è®¡æ–‡æ¡£](./docs/design.md) - æ¶æ„è®¾è®¡å’ŒæŠ€æœ¯å†³ç­–ï¼ˆåŒ…å«åŒå±‚è¯­ä¹‰æ¶æ„ï¼‰
- [Roadmap](./docs/roadmap.md) - ç‰ˆæœ¬è§„åˆ’å’Œè¿­ä»£è®¡åˆ’
- [å¼€å‘è€…æŒ‡å—](./AGENTS.md) - AI Agent å¼€å‘æŒ‡å—

### Schema è®¾è®¡æŒ‡å—

- [Schema README](./schema/README.md) - Schema ç›®å½•æ¦‚è§ˆ
- [Schema è®¾è®¡æ–¹æ³•è®º](./schema/guides/schema-methodology.md) - è®¾è®¡åŸåˆ™å’Œæœ€ä½³å®è·µ
- [è¡¨è®¾è®¡ç¤ºä¾‹](./schema/guides/table-design.md) - å®Œæ•´çš„è¡¨å®šä¹‰ç¤ºä¾‹
- [åˆ—å‘½åè§„èŒƒ](./schema/guides/column-naming.md) - å‘½åè§„èŒƒå’Œçº¦å®š
- [å…³ç³»è®¾è®¡æ¨¡å¼](./schema/guides/relationship-design.md) - è¡¨é—´å…³ç³»å»ºæ¨¡
- [SQL æœ€ä½³å®è·µ](./schema/guides/sql-best-practices.md) - æŸ¥è¯¢ä¼˜åŒ–å’Œè§„èŒƒ

### Agent Skills

- [sql-zen-explore](./agentskills/sql-zen-explore.md) - ç³»ç»ŸåŒ–æ¢ç´¢ Schema å’Œ Cube
- [sql-zen-query](./agentskills/sql-zen-query.md) - åŸºäº Cube å±‚ç”Ÿæˆé«˜è´¨é‡ SQL
- [sql-zen-analyze](./agentskills/sql-zen-analyze.md) - æ•°æ®åˆ†ææ´å¯Ÿ

## Philosophy

> "The best agents might be ones with the fewest tools."
> â€” Vercel Engineering

æˆ‘ä»¬ç›¸ä¿¡ï¼š

1. **åŒå±‚è¯­ä¹‰å±‚æ˜¯æœ€å¥½çš„æŠ½è±¡** - Schema å±‚æè¿°ç»“æ„ï¼ŒCube å±‚æè¿°ä¸šåŠ¡
2. **æ–‡ä»¶ç³»ç»Ÿæ˜¯æœ€ç¨³å®šçš„è½½ä½“** - grep å·²ç» 50 å¹´äº†ï¼Œä¾ç„¶å¥½ç”¨
3. **ä¿¡ä»»æ¨¡å‹çš„æ¨ç†èƒ½åŠ›** - ä¸è¦è¿‡åº¦çº¦æŸ
4. **ä¸šåŠ¡è¯­ä¹‰ > å·¥å…·æ•°é‡** - å¥½çš„ Cube å®šä¹‰æ˜¯æˆåŠŸçš„åŸºç¡€
5. **ä¸ºæœªæ¥çš„æ¨¡å‹æ„å»º** - æ¨¡å‹è¿›æ­¥æ¯”å·¥å…·è¿­ä»£æ›´å¿«

## Contributing

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [Contributing Guide](./CONTRIBUTING.md)ï¼ˆå³å°†æ¨å‡ºï¼‰

## License

MIT

---

**Inspired by [Vercel's d0](https://vercel.com/blog/we-removed-80-percent-of-our-agents-tools)** - æ„Ÿè°¢ä»–ä»¬åˆ†äº«è¿™ä¸ªæç®€ä½†å¼ºå¤§çš„æ¶æ„ç†å¿µã€‚
